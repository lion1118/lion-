```html
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¯­éŸ³å… - é›·æ©ä¸é³Œæ‹œçš„éŸ³ä¹æ•…äº‹</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            color: #f0f0f0;
            min-height: 100vh;
            padding: 20px;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            gap: 25px;
        }
        
        header {
            text-align: center;
            padding: 20px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 15px;
            border: 2px solid #4cc9f0;
            box-shadow: 0 0 20px rgba(76, 201, 240, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        header::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><path d="M0,0 L100,0 L100,100 Z" fill="rgba(76, 201, 240, 0.1)"/></svg>');
            z-index: -1;
        }
        
        h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            background: linear-gradient(to right, #4cc9f0, #f72585);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
        }
        
        .subtitle {
            font-size: 1.2rem;
            color: #b8b8d1;
            margin-bottom: 15px;
        }
        
        .main-content {
            display: flex;
            flex-wrap: wrap;
            gap: 25px;
        }
        
        .left-column {
            flex: 3;
            min-width: 300px;
        }
        
        .right-column {
            flex: 2;
            min-width: 280px;
        }
        
        .panel {
            background: rgba(25, 25, 45, 0.85);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 25px;
            border: 1px solid rgba(76, 201, 240, 0.3);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.4);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .panel:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
        }
        
        .panel-title {
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: #4cc9f0;
            display: flex;
            align-items: center;
            gap: 10px;
            border-bottom: 2px solid rgba(76, 201, 240, 0.5);
            padding-bottom: 8px;
        }
        
        .panel-title i {
            color: #f72585;
        }
        
        .character-info {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .character-card {
            flex: 1;
            min-width: 200px;
            background: rgba(15, 25, 45, 0.7);
            border-radius: 12px;
            padding: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            border: 1px solid rgba(247, 37, 133, 0.4);
        }
        
        .character-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            overflow: hidden;
            border: 3px solid #4cc9f0;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            background: rgba(15, 25, 45, 0.9);
        }
        
        .aobai-avatar {
            background: linear-gradient(135deg, #f72585, #4361ee);
            color: white;
        }
        
        .lien-avatar {
            background: linear-gradient(135deg, #4cc9f0, #7209b7);
            color: white;
        }
        
        .character-name {
            font-size: 1.4rem;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .aobai-name {
            color: #f72585;
        }
        
        .lien-name {
            color: #4cc9f0;
        }
        
        .character-role {
            color: #b8b8d1;
            font-size: 0.9rem;
            margin-bottom: 10px;
        }
        
        .mood-indicator {
            display: flex;
            align-items: center;
            gap: 5px;
            margin-top: 10px;
            font-size: 0.9rem;
        }
        
        .mood-value {
            color: #f72585;
            font-weight: bold;
        }
        
        .dialogue-container {
            height: 400px;
            overflow-y: auto;
            padding: 15px;
            background: rgba(10, 15, 30, 0.7);
            border-radius: 10px;
            margin-bottom: 20px;
            border: 1px solid rgba(76, 201, 240, 0.2);
        }
        
        .dialogue-message {
            margin-bottom: 15px;
            padding: 12px 15px;
            border-radius: 10px;
            max-width: 85%;
            animation: fadeIn 0.5s;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .aobai-message {
            background: rgba(247, 37, 133, 0.15);
            border-left: 4px solid #f72585;
            margin-right: auto;
        }
        
        .lien-message {
            background: rgba(76, 201, 240, 0.15);
            border-left: 4px solid #4cc9f0;
            margin-left: auto;
        }
        
        .message-sender {
            font-weight: bold;
            margin-bottom: 5px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .message-content {
            line-height: 1.5;
        }
        
        .message-time {
            font-size: 0.8rem;
            color: #888;
            text-align: right;
            margin-top: 5px;
        }
        
        .interaction-controls {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .interaction-btn {
            flex: 1;
            min-width: 120px;
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            background: linear-gradient(135deg, #4361ee, #3a0ca3);
            color: white;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            transition: all 0.3s;
        }
        
        .interaction-btn:hover {
            background: linear-gradient(135deg, #3a0ca3, #4361ee);
            transform: scale(1.05);
            box-shadow: 0 0 15px rgba(67, 97, 238, 0.5);
        }
        
        .interaction-btn:active {
            transform: scale(0.98);
        }
        
        .danger-btn {
            background: linear-gradient(135deg, #f72585, #b5179e);
        }
        
        .danger-btn:hover {
            background: linear-gradient(135deg, #b5179e, #f72585);
            box-shadow: 0 0 15px rgba(247, 37, 133, 0.5);
        }
        
        .music-player {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .song-info {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 10px;
        }
        
        .album-cover {
            width: 80px;
            height: 80px;
            border-radius: 10px;
            background: linear-gradient(135deg, #f72585, #4cc9f0);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: white;
        }
        
        .song-details {
            flex: 1;
        }
        
        .song-title {
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 5px;
            color: #4cc9f0;
        }
        
        .song-artist {
            color: #b8b8d1;
            font-size: 1rem;
        }
        
        .player-controls {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin-top: 10px;
        }
        
        .control-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            border: none;
            background: rgba(76, 201, 240, 0.2);
            color: #4cc9f0;
            font-size: 1.3rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }
        
        .control-btn:hover {
            background: rgba(76, 201, 240, 0.4);
            transform: scale(1.1);
        }
        
        .play-btn {
            background: rgba(247, 37, 133, 0.3);
            color: #f72585;
            width: 60px;
            height: 60px;
            font-size: 1.6rem;
        }
        
        .play-btn:hover {
            background: rgba(247, 37, 133, 0.5);
        }
        
        .progress-container {
            margin-top: 15px;
        }
        
        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 5px;
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(to right, #4cc9f0, #f72585);
            width: 30%;
            border-radius: 4px;
            transition: width 0.3s;
        }
        
        .song-list {
            margin-top: 20px;
        }
        
        .song-item {
            padding: 12px 15px;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.05);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 15px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .song-item:hover {
            background: rgba(76, 201, 240, 0.15);
            transform: translateX(5px);
        }
        
        .song-item.active {
            background: rgba(247, 37, 133, 0.2);
            border-left: 4px solid #f72585;
        }
        
        .song-item i {
            color: #4cc9f0;
            font-size: 1.2rem;
        }
        
        .relationship-meter {
            margin-top: 20px;
        }
        
        .meter-container {
            height: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 10px;
        }
        
        .meter-fill {
            height: 100%;
            background: linear-gradient(to right, #f72585, #4cc9f0);
            border-radius: 10px;
            width: 75%;
            transition: width 1s;
        }
        
        .meter-label {
            display: flex;
            justify-content: space-between;
            font-size: 0.9rem;
            color: #b8b8d1;
        }
        
        .story-progress {
            margin-top: 20px;
        }
        
        .milestone {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
            padding: 10px;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.05);
        }
        
        .milestone.active {
            background: rgba(76, 201, 240, 0.15);
        }
        
        .milestone.completed {
            background: rgba(247, 37, 133, 0.1);
        }
        
        .milestone i {
            color: #4cc9f0;
            font-size: 1.2rem;
        }
        
        .milestone.completed i {
            color: #f72585;
        }
        
        .history-log {
            max-height: 200px;
            overflow-y: auto;
            margin-top: 20px;
            padding: 10px;
            background: rgba(10, 15, 30, 0.7);
            border-radius: 8px;
            font-size: 0.9rem;
        }
        
        .log-entry {
            padding: 8px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            color: #b8b8d1;
        }
        
        .log-entry:last-child {
            border-bottom: none;
        }
        
        footer {
            text-align: center;
            padding: 20px;
            color: #b8b8d1;
            font-size: 0.9rem;
            border-top: 1px solid rgba(76, 201, 240, 0.2);
            margin-top: 20px;
        }
        
        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }
            
            h1 {
                font-size: 2.2rem;
            }
            
            .dialogue-container {
                height: 350px;
            }
        }
        
        .heart {
            color: #f72585;
            animation: heartbeat 1.5s infinite;
        }
        
        @keyframes heartbeat {
            0% { transform: scale(1); }
            5% { transform: scale(1.2); }
            10% { transform: scale(1.1); }
            15% { transform: scale(1.3); }
            20% { transform: scale(1); }
            100% { transform: scale(1); }
        }
        
        .special-message {
            border: 2px dashed #f72585;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(247, 37, 133, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(247, 37, 133, 0); }
            100% { box-shadow: 0 0 0 0 rgba(247, 37, 133, 0); }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-microphone-alt"></i> è¯­éŸ³å… Â· éŸ³ä¹ä¸å‹æƒ…</h1>
            <p class="subtitle">é›·æ©ä¸é³Œæ‹œçš„éŸ³ä¹æ•…äº‹ - ä»ã€Šæœ€åä¸€é¦–æƒ…æ­Œã€‹åˆ°ã€Šå‹¾æŒ‡èµ·èª“ã€‹</p>
            <div class="character-info">
                <div class="character-card">
                    <div class="character-avatar aobai-avatar">
                        <i class="fas fa-music"></i>
                    </div>
                    <div class="character-name aobai-name">é³Œæ‹œ</div>
                    <div class="character-role">è¯­éŸ³å…æ­Œæ‰‹ Â· éŸ³ä¹çˆ±å¥½è€…</div>
                    <div class="mood-indicator">
                        <span>å¿ƒæƒ…å€¼:</span>
                        <span class="mood-value">85/100</span>
                    </div>
                </div>
                <div class="character-card">
                    <div class="character-avatar lien-avatar">
                        <i class="fas fa-heart"></i>
                    </div>
                    <div class="character-name lien-name">é›·æ©</div>
                    <div class="character-role">å¿ å®å¬ä¼— Â· é³Œæ‹œçš„å¥½æœ‹å‹</div>
                    <div class="mood-indicator">
                        <span>å¥½æ„Ÿåº¦:</span>
                        <span class="mood-value">92/100</span>
                    </div>
                </div>
            </div>
        </header>
        
        <div class="main-content">
            <div class="left-column">
                <div class="panel">
                    <h2 class="panel-title"><i class="fas fa-comments"></i> è¯­éŸ³å…å¯¹è¯</h2>
                    <div class="dialogue-container" id="dialogueContainer">
                        <!-- å¯¹è¯å†…å®¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                    
                    <div class="interaction-controls">
                        <button class="interaction-btn" id="cheerBtn">
                            <i class="fas fa-smile"></i> é€—é³Œæ‹œå¼€å¿ƒ
                        </button>
                        <button class="interaction-btn" id="apologizeBtn">
                            <i class="fas fa-hands-helping"></i> å‘é³Œæ‹œé“æ­‰
                        </button>
                        <button class="interaction-btn" id="confessBtn">
                            <i class="fas fa-heart"></i> è¡¨è¾¾å¥½æ„Ÿ
                        </button>
                        <button class="interaction-btn danger-btn" id="teaseBtn">
                            <i class="fas fa-grin-tongue-wink"></i> è°ƒä¾ƒé³Œæ‹œ
                        </button>
                    </div>
                </div>
                
                <div class="panel">
                    <h2 class="panel-title"><i class="fas fa-history"></i> äº’åŠ¨è®°å½•</h2>
                    <div class="history-log" id="historyLog">
                        <!-- å†å²è®°å½•å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                </div>
            </div>
            
            <div class="right-column">
                <div class="panel">
                    <h2 class="panel-title"><i class="fas fa-music"></i> éŸ³ä¹æ’­æ”¾å™¨</h2>
                    <div class="music-player">
                        <div class="song-info">
                            <div class="album-cover">
                                <i class="fas fa-compact-disc"></i>
                            </div>
                            <div class="song-details">
                                <div class="song-title" id="currentSongTitle">æœ€åä¸€é¦–æƒ…æ­Œ</div>
                                <div class="song-artist" id="currentSongArtist">è‹ç›</div>
                            </div>
                        </div>
                        
                        <div class="progress-container">
                            <div class="progress-bar">
                                <div class="progress" id="songProgress"></div>
                            </div>
                            <div class="meter-label">
                                <span id="currentTime">0:00</span>
                                <span id="totalTime">3:45</span>
                            </div>
                        </div>
                        
                        <div class="player-controls">
                            <button class="control-btn" id="prevBtn">
                                <i class="fas fa-step-backward"></i>
                            </button>
                            <button class="control-btn play-btn" id="playBtn">
                                <i class="fas fa-play"></i>
                            </button>
                            <button class="control-btn" id="nextBtn">
                                <i class="fas fa-step-forward"></i>
                            </button>
                        </div>
                        
                        <div class="song-list">
                            <div class="song-item active" data-song="0">
                                <i class="fas fa-play-circle"></i>
                                <div>
                                    <div>æœ€åä¸€é¦–æƒ…æ­Œ</div>
                                    <div style="font-size:0.8rem;color:#b8b8d1">è‹ç› Â· åˆé‡ä¹‹æ­Œ</div>
                                </div>
                            </div>
                            <div class="song-item" data-song="1">
                                <i class="fas fa-music"></i>
                                <div>
                                    <div>ä»Šå¤œæœ‰é›¨</div>
                                    <div style="font-size:0.8rem;color:#b8b8d1">é˜Ÿé•¿ Â· æ„ŸåŠ¨ä¹‹å¤œ</div>
                                </div>
                            </div>
                            <div class="song-item" data-song="2">
                                <i class="fas fa-music"></i>
                                <div>
                                    <div>å¤å¤œæœ€åçš„çƒŸç«</div>
                                    <div style="font-size:0.8rem;color:#b8b8d1">å¼ é½å±± Â· ç‰¹åˆ«æ—¶åˆ»</div>
                                </div>
                            </div>
                            <div class="song-item" data-song="3">
                                <i class="fas fa-music"></i>
                                <div>
                                    <div>å‹¾æŒ‡èµ·èª“</div>
                                    <div style="font-size:0.8rem;color:#b8b8d1">çº¦å®šä¹‹æ›²</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="panel">
                    <h2 class="panel-title"><i class="fas fa-heart"></i> å…³ç³»è¿›å±•</h2>
                    <div class="relationship-meter">
                        <div class="meter-container">
                            <div class="meter-fill" id="relationshipMeter"></div>
                        </div>
                        <div class="meter-label">
                            <span>é™Œç”Ÿäºº</span>
                            <span>å¥½å‹</span>
                            <span>ç‰¹åˆ«çš„äºº</span>
                        </div>
                    </div>
                    
                    <div class="story-progress">
                        <div class="milestone completed">
                            <i class="fas fa-check-circle"></i>
                            <div>
                                <div>åˆæ¬¡ç›¸é‡</div>
                                <div style="font-size:0.8rem;color:#b8b8d1">ç¬¬ä¸€æ¬¡å¬é³Œæ‹œå”±ã€Šæœ€åä¸€é¦–æƒ…æ­Œã€‹</div>
                            </div>
                        </div>
                        <div class="milestone completed">
                            <i class="fas fa-check-circle"></i>
                            <div>
                                <div>æ„ŸåŠ¨ä¹‹å¤œ</div>
                                <div style="font-size:0.8rem;color:#b8b8d1">ã€Šä»Šå¤œæœ‰é›¨ã€‹è®©é›·æ©è½æ³ª</div>
                            </div>
                        </div>
                        <div class="milestone active">
                            <i class="fas fa-star"></i>
                            <div>
                                <div>ç‰¹åˆ«æ—¶åˆ»</div>
                                <div style="font-size:0.8rem;color:#b8b8d1">ä¸€èµ·åˆ†äº«ã€Šå¤å¤œæœ€åçš„çƒŸç«ã€‹</div>
                            </div>
                        </div>
                        <div class="milestone">
                            <i class="fas fa-lock"></i>
                            <div>
                                <div>å‹¾æŒ‡èµ·èª“</div>
                                <div style="font-size:0.8rem;color:#b8b8d1">ç­‰å¾…è§£é”çš„çº¦å®š</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <footer>
            <p>è¯­éŸ³å…æ•…äº‹ Â· é›·æ©ä¸é³Œæ‹œçš„éŸ³ä¹æ—…ç¨‹ | æ‰€æœ‰æ­Œæ›²ç‰ˆæƒå½’åŸæ­Œæ‰‹æ‰€æœ‰</p>
            <p>è¿™æ˜¯ä¸€ä¸ªå…³äºéŸ³ä¹ã€å‹æƒ…ä¸å¾®å¦™æƒ…æ„Ÿçš„æ•…äº‹</p>
        </footer>
    </div>

    <script>
        // åˆå§‹åŒ–å˜é‡
        let aobaiMood = 85;
        let lienFeeling = 92;
        let relationshipLevel = 75;
        let currentSongIndex = 0;
        let isPlaying = false;
        let songProgress = 0;
        let songInterval;
        
        // æ­Œæ›²æ•°æ®
        const songs = [
            { title: "æœ€åä¸€é¦–æƒ…æ­Œ", artist: "è‹ç›", duration: "3:45", special: "é›·æ©ç¬¬ä¸€æ¬¡å¬é³Œæ‹œå”±çš„æ­Œ" },
            { title: "ä»Šå¤œæœ‰é›¨", artist: "é˜Ÿé•¿", duration: "4:12", special: "è®©é›·æ©æ„ŸåŠ¨è½æ³ªçš„æ­Œæ›²" },
            { title: "å¤å¤œæœ€åçš„çƒŸç«", artist: "å¼ é½å±±", duration: "3:58", special: "ä¸¤äººä¸€èµ·åˆ†äº«çš„ç‰¹åˆ«æ—¶åˆ»" },
            { title: "å‹¾æŒ‡èµ·èª“", artist: "çº¦å®šä¹‹æ›²", duration: "4:20", special: "å¯¹ä¸¤äººéƒ½æœ‰ç‰¹æ®Šæ„ä¹‰çš„æ­Œ" }
        ];
        
        // å¯¹è¯æ•°æ®
        const dialogues = [
            // åˆå§‹å¯¹è¯
            { 
                sender: "é³Œæ‹œ", 
                message: "æ¬¢è¿å¤§å®¶æ¥åˆ°æˆ‘çš„è¯­éŸ³å…ï¼ä»Šå¤©æƒ³å¬ä»€ä¹ˆæ­Œå‘¢ï¼Ÿ", 
                time: "19:00",
                type: "aobai"
            },
            { 
                sender: "é›·æ©", 
                message: "é³Œæ‹œé³Œæ‹œï¼ä»Šå¤©å¯ä»¥å”±ã€Šæœ€åä¸€é¦–æƒ…æ­Œã€‹å—ï¼Ÿç¬¬ä¸€æ¬¡å¬ä½ å”±çš„å°±æ˜¯è¿™é¦–æ­Œå‘¢~", 
                time: "19:02",
                type: "lien"
            },
            { 
                sender: "é³Œæ‹œ", 
                message: "å½“ç„¶å¯ä»¥å•¦ï¼é›·æ©ä½ åˆæ¥å•¦ï¼Œæ¯æ¬¡éƒ½æ˜¯ä½ ç‚¹è¿™é¦–æ­Œå‘¢ã€‚", 
                time: "19:03",
                type: "aobai"
            },
            { 
                sender: "ç³»ç»Ÿ", 
                message: "é³Œæ‹œå¼€å§‹æ¼”å”±ã€Šæœ€åä¸€é¦–æƒ…æ­Œã€‹...", 
                time: "19:05",
                type: "system"
            },
            { 
                sender: "é›·æ©", 
                message: "â¤ï¸â¤ï¸â¤ï¸ å¤ªå¥½å¬äº†ï¼æ¯æ¬¡å¬ä½ å”±è¿™é¦–æ­Œéƒ½æ„Ÿè§‰å¿ƒé‡Œæš–æš–çš„ï¼", 
                time: "19:08",
                type: "lien"
            },
        ];
        
        // å¯é€‰å¯¹è¯
        const cheerOptions = [
            "é³Œæ‹œä½ å”±æ­Œçš„æ ·å­çœŸçš„å¥½æœ‰é­…åŠ›ï¼",
            "ä»Šå¤©æ˜¯ä¸æ˜¯åˆç»ƒä¹ äº†å¾ˆä¹…ï¼Ÿä½ çš„è¿›æ­¥å¥½æ˜æ˜¾ï¼",
            "æˆ‘å¸®ä½ å®£ä¼ äº†è¯­éŸ³å…ï¼Œä»Šå¤©æ¥äº†å¥½å¤šæ–°å¬ä¼—å‘¢ï¼",
            "ä½ ä¸Šæ¬¡æ¨èçš„æ­Œæˆ‘å¾ªç¯äº†å¥½å‡ å¤©ï¼ŒçœŸçš„å¤ªå¥½å¬äº†ï¼"
        ];
        
        const apologizeOptions = [
            "å¯¹ä¸èµ·ï¼Œæ˜¨å¤©æˆ‘ä¸è¯¥è¯´ä½ çš„å”±æ³•æœ‰é—®é¢˜...",
            "æˆ‘é”™äº†ï¼Œæˆ‘ä¸è¯¥åœ¨ä½ ç»ƒæ­Œçš„æ—¶å€™ä¸€ç›´å‘æ¶ˆæ¯...",
            "æŠ±æ­‰ï¼Œæˆ‘æ˜¯ä¸æ˜¯åˆç»™ä½ å¤ªå¤§å‹åŠ›äº†ï¼Ÿ",
            "å¯¹ä¸èµ·å˜›ï¼Œæˆ‘ä¿è¯ä¸ä¼šå†è®©ä½ ç”Ÿæ°”äº†..."
        ];
        
        const confessOptions = [
            "å…¶å®...æˆ‘æ¯æ¬¡æ¥è¯­éŸ³å…éƒ½æ˜¯ä¸ºäº†å¬ä½ å”±æ­Œ...",
            "ä½ å¯¹æˆ‘æ¥è¯´ï¼Œä¸åªæ˜¯å¥½æœ‹å‹é‚£ä¹ˆç®€å•...",
            "æœ‰æ—¶å€™æˆ‘ä¼šæƒ³ï¼Œå¦‚æœæˆ‘ä»¬èƒ½ä¸€ç›´è¿™æ ·åœ¨ä¸€èµ·å¬æ­Œå¤šå¥½...",
            "ä½ å”±æ­Œçš„æ—¶å€™ï¼Œçœ¼é‡Œæœ‰å…‰ï¼Œè€Œæˆ‘çš„çœ¼é‡Œåªæœ‰ä½ ..."
        ];
        
        const teaseOptions = [
            "é³Œæ‹œä½ æ˜¯ä¸æ˜¯åˆå·å·åƒé›¶é£Ÿäº†ï¼Ÿå£°éŸ³æœ‰ç‚¹å“‘å“¦~",
            "ä»Šå¤©æ˜¯ä¸æ˜¯åˆç¡è¿‡å¤´æ²¡ç»ƒä¹ ï¼Ÿæ„Ÿè§‰çŠ¶æ€ä¸å¤ªå¯¹~",
            "ä½ åˆšæ‰æ˜¯ä¸æ˜¯å”±é”™è¯äº†ï¼Ÿæˆ‘éƒ½å¬å‡ºæ¥äº†ï¼",
            "é³Œæ‹œï¼Œä½ ç²‰ä¸è¯´ä½ æœ€è¿‘èƒ–äº†ï¼Œæ˜¯ä¸æ˜¯çœŸçš„å•Šï¼Ÿ"
        ];
        
        // Aobaiçš„å›åº”
        const aobaiResponses = {
            cheer: [
                "å“ˆå“ˆï¼Œé›·æ©ä½ çœŸä¼šè¯´è¯ï¼å¿ƒæƒ…éƒ½å˜å¥½äº†~",
                "è¢«ä½ å‘ç°äº†ï¼æˆ‘ç¡®å®ç»ƒä¹ äº†å¾ˆä¹…å‘¢ï¼",
                "çœŸçš„å—ï¼Ÿè°¢è°¢ä½ å¸®æˆ‘å®£ä¼ ï¼",
                "ä½ å–œæ¬¢å°±å¥½ï¼ä¸‹æ¬¡æˆ‘å†ç»™ä½ æ¨èå¥½æ­Œï¼"
            ],
            apologize: [
                "ç®—äº†ç®—äº†ï¼Œæˆ‘çŸ¥é“ä½ æ˜¯ä¸ºæˆ‘å¥½...",
                "è¿™æ¬¡å°±åŸè°…ä½ å•¦ï¼Œä¸‹ä¸ä¸ºä¾‹ï¼",
                "å…¶å®æˆ‘ä¹Ÿæœ‰ä¸å¯¹çš„åœ°æ–¹...",
                "çœ‹ä½ è¿™ä¹ˆè¯šæ³ï¼Œæˆ‘å°±åŸè°…ä½ å§~"
            ],
            confess: [
                "é›·æ©...æˆ‘ä»¬æ˜¯å¥½æœ‹å‹ï¼Œå¯¹å§ï¼Ÿ",
                "åˆ«è¿™æ ·è¯´...æˆ‘ä¼šä¸çŸ¥é“è¯¥æ€ä¹ˆå›åº”çš„...",
                "è°¢è°¢ä½ å–œæ¬¢å¬æˆ‘å”±æ­Œï¼Œæˆ‘ä¹Ÿå¾ˆå–œæ¬¢å’Œä½ åšæœ‹å‹...",
                "é›·æ©ï¼Œä½ æ˜¯æˆ‘æœ€é‡è¦çš„æœ‹å‹..."
            ],
            tease: [
                "é›·æ©ï¼ä½ å†è¯´æˆ‘å°±ä¸å”±äº†ï¼",
                "å“¼ï¼ä½ æ‰èƒ–äº†å‘¢ï¼",
                "ä¸ç†ä½ äº†ï¼æˆ‘è¦ç”Ÿæ°”äº†ï¼",
                "é›·æ©ä½ ä»Šå¤©æ˜¯ä¸æ˜¯æ¥æ£ä¹±çš„ï¼"
            ]
        };
        
        // åˆå§‹åŒ–å‡½æ•°
        function init() {
            // æ¸²æŸ“åˆå§‹å¯¹è¯
            renderDialogues();
            
            // æ›´æ–°å…³ç³»è¿›åº¦æ¡
            updateRelationshipMeter();
            
            // æ›´æ–°æ­Œæ›²ä¿¡æ¯
            updateSongInfo();
            
            // æ·»åŠ äº‹ä»¶ç›‘å¬å™¨
            document.getElementById('cheerBtn').addEventListener('click', () => interact('cheer'));
            document.getElementById('apologizeBtn').addEventListener('click', () => interact('apologize'));
            document.getElementById('confessBtn').addEventListener('click', () => interact('confess'));
            document.getElementById('teaseBtn').addEventListener('click', () => interact('tease'));
            
            // éŸ³ä¹æ’­æ”¾å™¨æ§åˆ¶
            document.getElementById('playBtn').addEventListener('click', togglePlay);
            document.getElementById('prevBtn').addEventListener('click', prevSong);
            document.getElementById('nextBtn').addEventListener('click', nextSong);
            
            // æ­Œæ›²é€‰æ‹©
            document.querySelectorAll('.song-item').forEach(item => {
                item.addEventListener('click', function() {
                    const songIndex = parseInt(this.getAttribute('data-song'));
                    selectSong(songIndex);
                });
            });
            
            // è‡ªåŠ¨å¯¹è¯
            setInterval(autoDialogue, 15000);
        }
        
        // æ¸²æŸ“å¯¹è¯
        function renderDialogues() {
            const container = document.getElementById('dialogueContainer');
            container.innerHTML = '';
            
            dialogues.forEach(dialog => {
                const messageDiv = document.createElement('div');
                
                if (dialog.type === 'system') {
                    messageDiv.className = 'dialogue-message';
                    messageDiv.style.background = 'rgba(255, 215, 0, 0.1)';
                    messageDiv.style.borderLeft = '4px solid gold';
                    messageDiv.style.textAlign = 'center';
                    messageDiv.style.color = '#ffd700';
                    messageDiv.innerHTML = `<div class="message-content">${dialog.message}</div>`;
                } else {
                    const senderClass = dialog.type === 'aobai' ? 'aobai-message' : 'lien-message';
                    messageDiv.className = `dialogue-message ${senderClass}`;
                    
                    // å¦‚æœæ˜¯ç‰¹æ®Šæ¶ˆæ¯ï¼ˆåŒ…å«å¿ƒå½¢ï¼‰
                    if (dialog.message.includes('â¤ï¸')) {
                        messageDiv.classList.add('special-message');
                    }
                    
                    messageDiv.innerHTML = `
                        <div class="message-sender">
                            <i class="fas fa-${dialog.type === 'aobai' ? 'music' : 'heart'}"></i>
                            ${dialog.sender}
                        </div>
                        <div class="message-content">${dialog.message}</div>
                        <div class="message-time">${dialog.time}</div>
                    `;
                }
                
                container.appendChild(messageDiv);
            });
            
            // æ»šåŠ¨åˆ°åº•éƒ¨
            container.scrollTop = container.scrollHeight;
        }
        
        // æ·»åŠ æ–°å¯¹è¯
        function addDialogue(sender, message, type) {
            const now = new Date();
            const timeString = `${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}`;
            
            dialogues.push({
                sender,
                message,
                time: timeString,
                type
            });
            
            // é™åˆ¶å¯¹è¯æ•°é‡
            if (dialogues.length > 20) {
                dialogues.splice(0, 5);
            }
            
            renderDialogues();
            
            // æ·»åŠ åˆ°å†å²è®°å½•
            addToHistory(`${sender}: ${message}`);
        }
        
        // äº’åŠ¨å‡½æ•°
        function interact(type) {
            let lienMessage, aobaiMessage;
            
            switch(type) {
                case 'cheer':
                    lienMessage = cheerOptions[Math.floor(Math.random() * cheerOptions.length)];
                    aobaiMessage = aobaiResponses.cheer[Math.floor(Math.random() * aobaiResponses.cheer.length)];
                    aobaiMood = Math.min(100, aobaiMood + 5);
                    lienFeeling = Math.min(100, lienFeeling + 2);
                    relationshipLevel = Math.min(100, relationshipLevel + 3);
                    break;
                    
                case 'apologize':
                    lienMessage = apologizeOptions[Math.floor(Math.random() * apologizeOptions.length)];
                    aobaiMessage = aobaiResponses.apologize[Math.floor(Math.random() * aobaiResponses.apologize.length)];
                    aobaiMood = Math.min(100, aobaiMood + 3);
                    lienFeeling = Math.min(100, lienFeeling + 1);
                    relationshipLevel = Math.min(100, relationshipLevel + 2);
                    break;
                    
                case 'confess':
                    lienMessage = confessOptions[Math.floor(Math.random() * confessOptions.length)];
                    aobaiMessage = aobaiResponses.confess[Math.floor(Math.random() * aobaiResponses.confess.length)];
                    aobaiMood = Math.max(0, aobaiMood - 5);
                    lienFeeling = Math.min(100, lienFeeling + 5);
                    relationshipLevel = Math.min(100, relationshipLevel + 5);
                    break;
                    
                case 'tease':
                    lienMessage = teaseOptions[Math.floor(Math.random() * teaseOptions.length)];
                    aobaiMessage = aobaiResponses.tease[Math.floor(Math.random() * aobaiResponses.tease.length)];
                    aobaiMood = Math.max(0, aobaiMood - 10);
                    lienFeeling = Math.max(0, lienFeeling - 2);
                    relationshipLevel = Math.max(0, relationshipLevel - 3);
                    break;
            }
            
            // æ·»åŠ å¯¹è¯
            addDialogue("é›·æ©", lienMessage, "lien");
            
            // é³Œæ‹œç¨åå›åº”
            setTimeout(() => {
                addDialogue("é³Œæ‹œ", aobaiMessage, "aobai");
                
                // æ›´æ–°å¿ƒæƒ…å’Œå¥½æ„Ÿåº¦
                updateMoodIndicators();
                
                // æ›´æ–°å…³ç³»è¿›åº¦æ¡
                updateRelationshipMeter();
                
                // æ£€æŸ¥ç‰¹æ®Šäº‹ä»¶
                checkSpecialEvents();
            }, 1000);
        }
        
        // è‡ªåŠ¨å¯¹è¯
        function autoDialogue() {
            const autoTypes = ['cheer', 'apologize'];
            const randomType = autoTypes[Math.floor(Math.random() * autoTypes.length)];
            interact(randomType);
        }
        
        // æ›´æ–°å¿ƒæƒ…æŒ‡ç¤ºå™¨
        function updateMoodIndicators() {
            document.querySelector('.aobai-name + .character-role + .mood-indicator .mood-value').textContent = `${aobaiMood}/100`;
            document.querySelector('.lien-name + .character-role + .mood-indicator .mood-value').textContent = `${lienFeeling}/100`;
            
            // æ›´æ–°å¿ƒæƒ…é¢œè‰²
            const aobaiMoodElement = document.querySelector('.aobai-name + .character-role + .mood-indicator .mood-value');
            const lienFeelingElement = document.querySelector('.lien-name + .character-role + .mood-indicator .mood-value');
            
            aobaiMoodElement.style.color = aobaiMood > 70 ? '#4cc9f0' : aobaiMood > 40 ? '#ffd700' : '#f72585';
            lienFeelingElement.style.color = lienFeeling > 70 ? '#4cc9f0' : lienFeeling > 40 ? '#ffd700' : '#f72585';
        }
        
        // æ›´æ–°å…³ç³»è¿›åº¦æ¡
        function updateRelationshipMeter() {
            const meterFill = document.getElementById('relationshipMeter');
            meterFill.style.width = `${relationshipLevel}%`;
        }
        
        // æ·»åŠ å†å²è®°å½•
        function addToHistory(log) {
            const historyLog = document.getElementById('historyLog');
            const logEntry = document.createElement('div');
            logEntry.className = 'log-entry';
            
            const now = new Date();
            const timeString = `${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}`;
            
            logEntry.textContent = `[${timeString}] ${log}`;
            historyLog.appendChild(logEntry);
            
            // é™åˆ¶è®°å½•æ•°é‡
            if (historyLog.children.length > 10) {
                historyLog.removeChild(historyLog.firstChild);
            }
            
            historyLog.scrollTop = historyLog.scrollHeight;
        }
        
        // éŸ³ä¹æ’­æ”¾å™¨åŠŸèƒ½
        function updateSongInfo() {
            const song = songs[currentSongIndex];
            document.getElementById('currentSongTitle').textContent = song.title;
            document.getElementById('currentSongArtist').textContent = song.artist;
            document.getElementById('totalTime').textContent = song.duration;
            
            // æ›´æ–°æ´»è·ƒæ­Œæ›²
            document.querySelectorAll('.song-item').forEach((item, index) => {
                if (index === currentSongIndex) {
                    item.classList.add('active');
                } else {
                    item.classList.remove('active');
                }
            });
        }
        
        function togglePlay() {
            const playBtn = document.getElementById('playBtn');
            const playIcon = playBtn.querySelector('i');
            
            if (!isPlaying) {
                isPlaying = true;
                playIcon.className = 'fas fa-pause';
                
                // æ¨¡æ‹Ÿæ­Œæ›²æ’­æ”¾è¿›åº¦
                songProgress = 0;
                updateProgress();
                
                songInterval = setInterval(() => {
                    songProgress += 1;
                    updateProgress();
                    
                    // æ­Œæ›²ç»“æŸ
                    if (songProgress >= 100) {
                        clearInterval(songInterval);
                        isPlaying = false;
                        playIcon.className = 'fas fa-play';
                        songProgress = 0;
                        updateProgress();
                    }
                }, 300);
                
                // æ·»åŠ ç³»ç»Ÿæ¶ˆæ¯
                addDialogue("ç³»ç»Ÿ", `é³Œæ‹œå¼€å§‹æ¼”å”±ã€Š${songs[currentSongIndex].title}ã€‹...`, "system");
                
                // æ ¹æ®æ­Œæ›²æ·»åŠ ç‰¹æ®Šå¯¹è¯
                if (currentSongIndex === 0) {
                    setTimeout(() => {
                        addDialogue("é›·æ©", "æ¯æ¬¡å¬åˆ°è¿™é¦–æ­Œï¼Œéƒ½ä¼šæƒ³èµ·ç¬¬ä¸€æ¬¡é‡è§ä½ çš„é‚£ä¸ªå¤œæ™š...", "lien");
                    }, 2000);
                } else if (currentSongIndex === 1) {
                    setTimeout(() => {
                        addDialogue("é›·æ©", "è®°å¾—é‚£å¤©æ™šä¸Šä¸‹ç€é›¨ï¼Œæˆ‘å¿ƒæƒ…ä¸å¥½ï¼Œä½ çš„æ­Œå£°å°±åƒé˜³å…‰ä¸€æ ·æ¸©æš–äº†æˆ‘...", "lien");
                    }, 2000);
                } else if (currentSongIndex === 2) {
                    setTimeout(() => {
                        addDialogue("é³Œæ‹œ", "è¿™é¦–æ­Œè®©æˆ‘æƒ³èµ·å»å¹´å¤å¤©ï¼Œæˆ‘ä»¬ä¸€èµ·å»çœ‹çƒŸç«çš„å¤œæ™šã€‚", "aobai");
                    }, 2000);
                }
            } else {
                isPlaying = false;
                playIcon.className = 'fas fa-play';
                clearInterval(songInterval);
            }
        }
        
        function updateProgress() {
            const progressBar = document.getElementById('songProgress');
            progressBar.style.width = `${songProgress}%`;
            
            // æ›´æ–°æ—¶é—´æ˜¾ç¤º
            const totalSeconds = 225; // å‡è®¾æ­Œæ›²é•¿åº¦3:45
            const currentSeconds = Math.floor(totalSeconds * (songProgress / 100));
            const currentTime = `${Math.floor(currentSeconds / 60)}:${(currentSeconds % 60).toString().padStart(2, '0')}`;
            document.getElementById('currentTime').textContent = currentTime;
        }
        
        function prevSong() {
            currentSongIndex = (currentSongIndex - 1 + songs.length) % songs.length;
            updateSongInfo();
            
            if (isPlaying) {
                clearInterval(songInterval);
                setTimeout(() => togglePlay(), 500);
            }
        }
        
        function nextSong() {
            currentSongIndex = (currentSongIndex + 1) % songs.length;
            updateSongInfo();
            
            if (isPlaying) {
                clearInterval(songInterval);
                setTimeout(() => togglePlay(), 500);
            }
        }
        
        function selectSong(index) {
            currentSongIndex = index;
            updateSongInfo();
            
            if (isPlaying) {
                clearInterval(songInterval);
                setTimeout(() => togglePlay(), 500);
            }
        }
        
        // æ£€æŸ¥ç‰¹æ®Šäº‹ä»¶
        function checkSpecialEvents() {
            // å½“å…³ç³»è¾¾åˆ°ä¸€å®šç¨‹åº¦æ—¶ï¼Œè§£é”ç‰¹æ®Šå¯¹è¯
            if (relationshipLevel >= 85 && !document.querySelector('.milestone:nth-child(4)').classList.contains('active')) {
                document.querySelectorAll('.milestone').forEach(milestone => {
                    milestone.classList.remove('active');
                });
                document.querySelector('.milestone:nth-child(4)').classList.add('active');
                
                // æ·»åŠ ç‰¹æ®Šå¯¹è¯
                setTimeout(() => {
                    addDialogue("ç³»ç»Ÿ", "ğŸ‰ å…³ç³»è¾¾åˆ°æ–°é˜¶æ®µï¼šè§£é”ã€Œå‹¾æŒ‡èµ·èª“ã€ç‰¹åˆ«æ•…äº‹", "system");
                    
                    setTimeout(() => {
                        addDialogue("é›·æ©", "é³Œæ‹œï¼Œå¦‚æœæˆ‘ä»¬èƒ½ä¸€ç›´è¿™æ ·å°±å¥½äº†...", "lien");
                    }, 1500);
                    
                    setTimeout(() => {
                        addDialogue("é³Œæ‹œ", "é›·æ©ï¼Œä½ æ˜¯æˆ‘æœ€ç‰¹åˆ«çš„æœ‹å‹...ä¹Ÿè®¸æœªæ¥ä¼šæœ‰æ›´å¤šå¯èƒ½å‘¢ï¼Ÿ", "aobai");
                    }, 3000);
                    
                    // æ’­æ”¾å‹¾æŒ‡èµ·èª“
                    setTimeout(() => {
                        selectSong(3);
                        setTimeout(() => togglePlay(), 500);
                    }, 4500);
                }, 1000);
            }
            
            // å½“é³Œæ‹œå¿ƒæƒ…å¾ˆä½æ—¶
            if (aobaiMood < 30) {
                setTimeout(() => {
                    addDialogue("é³Œæ‹œ", "ä»Šå¤©å¿ƒæƒ…çœŸçš„ä¸å¤ªå¥½...å¯èƒ½æˆ‘è¦ä¸‹æ’­äº†...", "aobai");
                }, 2000);
                
                setTimeout(() => {
                    addDialogue("é›·æ©", "åˆ«åˆ«åˆ«ï¼æ˜¯æˆ‘ä¸å¥½ï¼æˆ‘ç»™ä½ å”±é¦–æ­Œèµ”ç½ªå¥½ä¸å¥½ï¼Ÿ", "lien");
                }, 4000);
                
                setTimeout(() => {
                    addDialogue("é³Œæ‹œ", "å™—...ä½ äº”éŸ³ä¸å…¨è¿˜å”±æ­Œï¼Ÿç®—äº†ï¼Œçœ‹ä½ è¿™ä¹ˆè¯šæ³ï¼ŒåŸè°…ä½ äº†~", "aobai");
                    aobaiMood += 20;
                    updateMoodIndicators();
                }, 6000);
            }
            
            // å½“é›·æ©å¥½æ„Ÿåº¦å¾ˆé«˜æ—¶
            if (lienFeeling > 95) {
                setTimeout(() => {
                    addDialogue("é›·æ©", "å…¶å®æˆ‘...æˆ‘å¥½åƒä¸åªæ˜¯æŠŠä½ å½“æœ‹å‹...", "lien");
                }, 2000);
                
                setTimeout(() => {
                    addDialogue("é³Œæ‹œ", "é›·æ©...æˆ‘...æˆ‘ç°åœ¨è¿˜ä¸çŸ¥é“è¯¥æ€ä¹ˆå›åº”ä½ ...", "aobai");
                }, 4000);
            }
        }
        
        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
```

